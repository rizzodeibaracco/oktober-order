<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crossroads APS ‚Äì Oktoberstrafest 2025</title>
<style>
html, body {margin: 0; padding: 0; width: 100%; overflow-x: hidden; font-family: "Arial", sans-serif; background-color: #f6fdf5; color: #000; text-align: center;}
h1 {color: #2e7d32; margin: 15px 0;}
button {display: block; width: 90%; max-width: 500px; margin: 10px auto; padding: 14px; font-size: 1.2em; border: none; border-radius: 12px; background-color: #aeea00; font-weight: bold; cursor: pointer; color: #000;}
button:hover {background-color: #9ccc65;}
.popup {display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow-y: auto; background-color: rgba(0, 0, 0, 0.5);}
.popup-content {background-color: #fff; margin: 10% auto; padding: 25px 15px; border-radius: 20px; width: 90%; max-width: 400px; text-align: center; box-shadow: 0 0 10px rgba(0,0,0,0.3); position: relative;}
.popup-content h2 {font-size: 1.5em; color: #2e7d32;}
.popup-content p {font-size: 1.3em; margin: 8px 0; font-weight: bold;}
.close {position: absolute; right: 20px; top: 10px; font-size: 28px; cursor: pointer;}
#stampaTotaleBtn {margin-top: 15px; padding: 12px 20px; background-color: #2e7d32; color: white; border: none; border-radius: 10px; font-size: 1.1em; width: 100%; max-width: 300px;}
#stampaTotaleBtn:hover {background-color: #388e3c;}
@media (max-width: 600px) {body {font-size: 1.1em;} button {font-size: 1.1em; padding: 12px;} .popup-content {margin-top: 20%; padding: 20px;} .close {right: 15px; top: 10px; font-size: 26px;}}
</style>
</head>
<body>
<h1>Crossroads APS ‚Äì Oktoberstrafest 2025</h1>
<button id="totaleIncassiBtn">üí∞ Totale incassi</button>
<button onclick="azzeraTotaliGiornata()">üßπ Svuota fine serata</button>
<div id="popupTotale" class="popup">
  <div class="popup-content" id="popupContent">
    <span class="close">&times;</span>
    <h2>Totale incassi giornata</h2>
    <p id="dataGiornata">Data: --/--/----</p>
    <p id="totaleGiornata">0 ‚Ç¨</p>
    <p id="totaleOrdini">Totale ordini: 0</p>
    <button id="stampaTotaleBtn">üñ®Ô∏è Stampa / Esporta PDF</button>
  </div>
</div>
<script>
let totaleIncassi = parseFloat(localStorage.getItem("totaleIncassi")) || 0;
let numeroOrdini = parseInt(localStorage.getItem("numeroOrdini")) || 0;
let dataGiornata = localStorage.getItem("dataGiornata") || new Date().toLocaleDateString("it-IT");
function salvaTotali() {localStorage.setItem("totaleIncassi", totaleIncassi);localStorage.setItem("numeroOrdini", numeroOrdini);localStorage.setItem("dataGiornata", dataGiornata);}
function aggiornaTotaleIncassi(importo) {totaleIncassi += importo;numeroOrdini++;salvaTotali();}
document.getElementById("totaleIncassiBtn").addEventListener("click", () => {document.getElementById("popupTotale").style.display = "block";document.getElementById("dataGiornata").textContent = "Data: " + dataGiornata;document.getElementById("totaleGiornata").textContent = totaleIncassi.toFixed(2) + " ‚Ç¨";document.getElementById("totaleOrdini").textContent = "Totale ordini: " + numeroOrdini;});
document.querySelector(".close").addEventListener("click", () => {document.getElementById("popupTotale").style.display = "none";});
window.addEventListener("click", (event) => {if (event.target == document.getElementById("popupTotale")) {document.getElementById("popupTotale").style.display = "none";}});
function azzeraTotaliGiornata() {if (confirm("Sei sicuro di voler svuotare i totali di fine serata?")) {totaleIncassi = 0;numeroOrdini = 0;dataGiornata = new Date().toLocaleDateString("it-IT");salvaTotali();alert("Totali azzerati per la nuova giornata!");}}
document.getElementById("stampaTotaleBtn").addEventListener("click", () => {const contenuto = document.getElementById("popupContent").innerHTML;const oraCorrente = new Date().toLocaleTimeString("it-IT", { hour: "2-digit", minute: "2-digit" });const dataOggi = new Date().toLocaleDateString("it-IT");const finestra = window.open("", "_blank");finestra.document.write(`<html><head><title>Totale Incassi - Crossroads APS</title><style>body{font-family:Arial,sans-serif;text-align:center;padding:40px;color:#000;}h1{font-size:1.6em;color:#2e7d32;margin-bottom:5px;}h3{font-size:1.2em;color:#333;margin-top:0;margin-bottom:30px;}h2{color:#2e7d32;margin-top:20px;}p{font-size:1.3em;font-weight:bold;margin:8px 0;}#stampaTotaleBtn,.close{display:none;}.footer{margin-top:40px;font-size:0.9em;color:gray;}</style></head><body><h1>Crossroads APS ‚Äì Oktoberstrafest 2025</h1><h3>Riepilogo incassi bar</h3>${contenuto}<div class="footer"><p>Stampato da App Ordini Bar</p><p>Data: ${dataOggi} ‚Äì Ore: ${oraCorrente}</p></div></body></html>`);finestra.document.close();finestra.print();});
</script>
</body>
</html>
